<div class="container">
    <div class="icon-bar">
        <figure (click)="openFile('aboutMe'); changeCurrentFile('aboutMe')">
            <img src="/aboutMeFile.png" alt="About Me File" class="files">
            <figcaption>About Me</figcaption>
        </figure>
        <figure (click)="openFile('projects'); changeCurrentFile('projects')">
            <img src="/projectsFile.png" alt="Projects File" class="files">
            <figcaption>Projects</figcaption>
        </figure>
        <figure (click)="openFile('contacts'); changeCurrentFile('contacts')">
            <img src="/contactsFile.png" alt="Contacts File" class="files">
            <figcaption>Contacts</figcaption>
        </figure>
    </div>
    <div cdkDrag class="file" id="about-me-file" *ngIf="fileService.isAboutMeOpen$ | async" (mousedown)="changeCurrentFile('aboutMe')" [ngStyle]="{'z-index': (fileService.currentStack$ | async)?.indexOf('aboutMe') ?? 1}">
        <div cdkDragHandle class="top-bar">
            <p class="title">About Me</p>
            <button class="minimize-file" (click)="minimizeTab('aboutMe')"><i class="fa-solid fa-minus"></i></button>
            <button class="close-file" (click)="closeFile('aboutMe')"><i class="fa-solid fa-x"></i></button>
        </div>
        <div id="about-me-container">
            <app-about-me-window></app-about-me-window>
        </div>
    </div>

    <div cdkDrag class="file" id="projects-file" *ngIf="fileService.isProjectsOpen$ | async" (mousedown)="changeCurrentFile('projects')" [ngStyle]="{'z-index': (fileService.currentStack$ | async)?.indexOf('projects') ?? 1}">
        <div cdkDragHandle class="top-bar">
            <p class="title">Projects</p>
            <button class="minimize-file" (click)="minimizeTab('projects')"><i class="fa-solid fa-minus"></i></button>
            <button class="close-file" (click)="closeFile('projects')"><i class="fa-solid fa-x"></i></button>
        </div>
        <div id="projects-container">
            <app-projects-window></app-projects-window>
        </div>
    </div>

    <div cdkDrag class="file" id="contacts-file" *ngIf="fileService.isContactsOpen$ | async" (mousedown)="changeCurrentFile('contacts')" [ngStyle]="{'z-index': (fileService.currentStack$ | async)?.indexOf('contacts') ?? 1}">
        <div cdkDragHandle class="top-bar">
            <p class="title">Contacts</p>
            <button class="minimize-file" (click)="minimizeTab('contacts')"><i class="fa-solid fa-minus"></i></button>
            <button class="close-file" (click)="closeFile('contacts')"><i class="fa-solid fa-x"></i></button>
        </div>
        <div id="contacts-container">
            <app-contacts-window></app-contacts-window>
        </div>
    </div>

    <div cdkDrag class="file" id="resume-file" *ngIf="fileService.isResumeOpen$ | async" (mousedown)="changeCurrentFile('resume')" [ngStyle]="{'z-index': (fileService.currentStack$ | async)?.indexOf('resume') ?? 1}">
        <div cdkDragHandle class="top-bar">
            <p class="title">Resume</p>
            <button class="minimize-file" (click)="minimizeTab('resume')"><i class="fa-solid fa-minus"></i></button>
            <button class="close-file" (click)="closeFile('resume')"><i class="fa-solid fa-x"></i></button>
        </div>
        <div id="resume-container">
            <app-resume-window></app-resume-window>
        </div>
    </div>
</div> 
